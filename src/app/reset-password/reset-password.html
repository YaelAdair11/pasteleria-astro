<div class="min-vh-100 d-flex justify-content-center align-items-center bg-light">
  <div class="card shadow-sm border-0 p-4" style="max-width: 400px; width: 100%;">
    
    <!-- Encabezado -->
    <div class="text-center mb-4">
      <div class="mb-3 text-primary">
        <i class="fa-solid fa-lock fa-3x"></i>
      </div>
      <h3 class="fw-bold text-dark">Recuperar Contraseña</h3>
      <p class="text-muted small">Ingresa tu correo electrónico y te enviaremos un enlace para restablecer tu acceso.</p>
    </div>

    <!-- Formulario -->
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      
      <div class="mb-3">
        <label class="form-label fw-semibold text-secondary">Correo Electrónico</label>
        <div class="input-group">
          <span class="input-group-text bg-white border-end-0 text-muted">
            <i class="fa-solid fa-envelope"></i>
          </span>
          <input type="email" 
                 class="form-control" 
                 formControlName="email" 
                 placeholder="ejemplo@correo.com"
                 [class.is-invalid]="form.get('email')?.touched && form.get('email')?.invalid">
        </div>
        <!-- Validaciones -->
        <div *ngIf="form.get('email')?.touched && form.get('email')?.hasError('required')" class="text-danger small mt-1">
          El correo es obligatorio.
        </div>
        <div *ngIf="form.get('email')?.touched && form.get('email')?.hasError('email')" class="text-danger small mt-1">
          Ingresa un correo válido.
        </div>
      </div>

      <!-- Mensajes de Respuesta -->
      <div *ngIf="mensajeExito" class="alert alert-success d-flex align-items-center small" role="alert">
        <i class="fa-solid fa-check-circle me-2 fs-5"></i>
        <div>{{ mensajeExito }}</div>
      </div>

      <div *ngIf="error" class="alert alert-danger d-flex align-items-center small" role="alert">
        <i class="fa-solid fa-triangle-exclamation me-2 fs-5"></i>
        <div>{{ error }}</div>
      </div>

      <!-- Botón de Envío -->
      <button type="submit" class="btn btn-primary w-100 fw-semibold py-2 mt-2 shadow-sm" [disabled]="loading || form.invalid || form.disabled">
        <span *ngIf="!loading">Enviar Enlace de Recuperación</span>
        <span *ngIf="loading">
          <span class="spinner-border spinner-border-sm me-2"></span>
          Enviando...
        </span>
      </button>

    </form>

    <!-- Volver al Login -->
    <div class="text-center mt-4 pt-2 border-top">
      <a href="/login" class="text-decoration-none text-muted small fw-semibold">
        <i class="fa-solid fa-arrow-left me-1"></i> Volver al inicio de sesión
      </a>
    </div>

  </div>
</div>