<div class="dashboard-container">
  <header class="header">
    <h1>üéÇ Pasteler√≠a Dulce Arte</h1>

    <!-- üîò Botones accesibles en la esquina derecha -->
    <div class="header-actions">
      <button class="btn add" (click)="abrirModalAgregar()">‚ûï Agregar Pedido</button>
      <button class="btn view" (click)="abrirModalPedidos()">üìã Ver Pedidos</button>
    </div>
  </header>

  <!-- üì∞ Secci√≥n de Noticias -->
  <section class="news-section">
    <h2>üßÅ Novedades y Lanzamientos</h2>
    <div class="news-container">
      <div class="news-card">
        <img 
          src="https://www.suqiee.com.mx/wp-content/uploads/2022/12/instagram-pastel-de-chocolate-1.jpg"
          alt="Pastel de chocolate belga"
          class="news-img-local"
        />
        <div class="news-info">
          <h3>üç´ Nuevo Pastel de Chocolate Belga</h3>
          <p>Hecho con cacao 100% natural y ganache artesanal. ¬°Una experiencia irresistible disponible ya en todas las sucursales!</p>
        </div>
      </div>

      <div class="news-card">
        <img 
          src="https://pasteleriacaty.com/wp-content/uploads/2019/12/San-Nicolas.jpg" 
          alt="Nueva sucursal en Puebla" />
        <div class="news-info">
          <h3>üéâ Nueva Sucursal en Puebla</h3>
          <p>Vis√≠tanos en Av. Reforma #321. Promociones de apertura durante todo el mes de noviembre.</p>
        </div>
      </div>

      <div class="news-card">
        <img 
          src="https://aranzazu.com/wp-content/uploads/2025/08/pastel-Labubu.webp" 
          alt="Pasteles personalizados" />
        <div class="news-info">
          <h3>üé® Pasteles Tem√°ticos Personalizados</h3>
          <p>Elige tu dise√±o favorito o env√≠anos tu idea. ¬°Perfecto para cumplea√±os, bodas y eventos especiales!</p>
        </div>
      </div>

      <div class="news-card">
        <img 
          src="https://static.promodescuentos.com/threads/raw/NrXHZ/795892_1/re/1024x1024/qt/60/795892_1.jpg" 
          alt="Pasteles personalizados" />
        <div class="news-info">
          <h3>Ofertas en Tienda</h3>
          <p>Descuentos en pasteles de existencia y por pedido a un precio m√°s bajo.</p>
        </div>
      </div>

      <div class="news-card">
        <img 
          src="https://i.ytimg.com/vi/Rxt-pxSZUk4/sddefault.jpg" 
          alt="Pasteles personalizados" />
        <div class="news-info">
          <h3>Eventos exclusivos</h3>
          <p>Concurso o evento donde se muestra a nuestros mejores pasteleros haciendo gala de su creatividad.</p>
        </div>
      </div>

      <div class="news-card">
        <img 
          src="https://images.milenio.com/GwM4IUah3p1rrWmQT9Gz898H5vA=/345x194/uploads/media/2024/02/18/repostera-viral-pastel-forma-copa.jpg" 
          alt="Pasteles personalizados" />
        <div class="news-info">
          <h3>Pasteles Exclusivos</h3>
          <p>Pasteles hechos con la mejor creatividad de la industria y colaboraciones √∫nicas.</p> 
        </div>
      </div>
    </div>
  </section>

  <!-- üìä Secci√≥n de estad√≠sticas -->
  <section class="stats-section">
    <div class="card">
      <h2>Ventas Hoy</h2>
      <p class="value">$7,200</p>
      <span class="tag success">+12% vs ayer</span>
    </div>
    <div class="card">
      <h2>Ventas del Mes</h2>
      <p class="value">$180,750</p>
      <span class="tag neutral">Objetivo 75%</span>
    </div>
    <div class="card">
      <h2>Ofertas</h2>
      <p class="value">8</p>
      <span class="tag warning">ver ofertas</span>
    </div>
    <div class="card">
      <h2>Exclusivos</h2>
      <p class="value">4</p>
      <span class="tag info">Ver pasteles</span>
    </div>
  </section>

  <!-- üå∏ Modal Agregar Pedido -->
<div class="modal" *ngIf="mostrarAgregar">
  <div class="modal-content pedido-card">
    <h2>üç∞ Agregar Pedido</h2>

    <form (ngSubmit)="guardarPedido()" class="pedido-form">

      <!-- Tipo -->
      <div class="form-step">
        <label>Tipo de producto:</label>
        <select [(ngModel)]="nuevoPedido.Tipo" name="Tipo" required>
          <option value="">Selecciona un tipo</option>
          <option *ngFor="let t of tiposProductos" [value]="t">{{ t }}</option>
        </select>
      </div>

      <!-- üìå Campos generales -->
      <div class="form-step" *ngIf="nuevoPedido.Tipo">
        <label>Nombre:</label>
        <input type="text" [(ngModel)]="nuevoPedido.nombre" name="nombre" required />
      </div>

      <div class="form-step" *ngIf="nuevoPedido.nombre">
        <label>Tel√©fono:</label>
        <input type="tel" [(ngModel)]="nuevoPedido.telefono" name="telefono" required />
      </div>

      <div class="form-step" *ngIf="nuevoPedido.telefono">
        <label>Domicilio o recoger en tienda:</label>
        <input type="text" [(ngModel)]="nuevoPedido.lugar" name="lugar" placeholder="Ej. Domicilio o Sucursal Reforma" />
      </div>

      <div class="form-step" *ngIf="nuevoPedido.lugar !== null">
        <label>Fecha de entrega:</label>
        <input type="date" [(ngModel)]="nuevoPedido.fecha" name="fecha" required />
      </div>

      <!-- üü£ CAMPOS DEPENDIENDO DEL PRODUCTO -->

      <!-- üéÇ PASTEL -->
      <div *ngIf="nuevoPedido.Tipo === 'Pastel'">

        <div class="form-step">
          <label>Color del pastel:</label>
          <input type="text" [(ngModel)]="nuevoPedido.color" name="color" placeholder="Ej. Rosa pastel" />
        </div>

        <div class="form-step">
          <label>Cantidad (Kg):</label>
          <input type="number" min="1" [(ngModel)]="nuevoPedido.kilos" name="kilos" placeholder="Ej. 2" />
        </div>

        <div class="form-step">
          <label>Relleno:</label>
          <input type="text" [(ngModel)]="nuevoPedido.relleno" name="relleno" placeholder="Chocolate, fresa, nuez..." />
        </div>

        <div class="form-step">
          <label>Tem√°tica:</label>
          <input type="text" [(ngModel)]="nuevoPedido.tematica" name="tematica" placeholder="Ej. Princesas, Futbol, Floral" />
        </div>

      </div>

      <!-- üßÉ BEBIDA -->
      <div *ngIf="nuevoPedido.Tipo === 'Bebida'">

        <div class="form-step">
          <label>Sabor:</label>
          <input type="text" [(ngModel)]="nuevoPedido.sabor" name="saborBebida" placeholder="Ej. Fresa, Mango..." />
        </div>

        <div class="form-step">
          <label>Cantidad (piezas o litros):</label>
          <input type="number" min="1" [(ngModel)]="nuevoPedido.cantidad" name="cantidadBebida" placeholder="Ej. 6" />
        </div>

      </div>

      <!-- üç™ GALLETAS -->
      <div *ngIf="nuevoPedido.Tipo === 'Galletas'">

        <div class="form-step">
          <label>Sabor:</label>
          <input type="text" [(ngModel)]="nuevoPedido.sabor" name="saborGalletas" placeholder="Chocolate, Vainilla..." />
        </div>

        <div class="form-step">
          <label>Tama√±o:</label>
          <select [(ngModel)]="nuevoPedido.tamano" name="tama√±o">
            <option value="Chica">Chica</option>
            <option value="Mediana">Mediana</option>
            <option value="Grande">Grande</option>
          </select>
        </div>

        <div class="form-step">
          <label>Tem√°tica:</label>
          <input type="text" [(ngModel)]="nuevoPedido.tematica" name="tematicaGalletas" placeholder="Ej. Navidad, Princesas..." />
        </div>

        <div class="form-step">
          <label>Cantidad de galletas:</label>
          <input type="number" min="1" [(ngModel)]="nuevoPedido.cantidad" name="cantidadGalletas" />
        </div>

      </div>

      <!-- üçÆ POSTRE -->
      <div *ngIf="nuevoPedido.Tipo === 'Postre'">

        <div class="form-step">
          <label>Tipo de postre:</label>
          <input type="text" [(ngModel)]="nuevoPedido.tipoPostre" name="tipoPostre" placeholder="Gelatina, Flan, Pay..." />
        </div>

        <div class="form-step">
          <label>Sabor:</label>
          <input type="text" [(ngModel)]="nuevoPedido.sabor" name="saborPostre" placeholder="Chocolate, lim√≥n..." />
        </div>

        <div class="form-step">
          <label>Cantidad:</label>
          <input type="number" min="1" [(ngModel)]="nuevoPedido.cantidad" name="cantidadPostre" />
        </div>

        <div class="form-step">
          <label>Tem√°tica:</label>
          <input type="text" [(ngModel)]="nuevoPedido.tematica" name="tematicaPostre" placeholder="Ej. Azul pastel, Mickey..." />
        </div>

      </div>

      <!-- BOTONES -->
      <div class="modal-actions">
        <button type="submit" class="btn save">üíæ Guardar</button>
        <button type="button" class="btn cancel" (click)="cerrarModal()">‚ùå Cancelar</button>
      </div>

    </form>
  </div>
</div>

  <!-- üìã Modal Pedidos -->
  <div class="modal" *ngIf="mostrarPedidos">
    <div class="modal-content">
      <h2>Pedidos Registrados</h2>
      <div *ngFor="let pedido of pedidos" class="pedido-item">
        <p><strong>{{ pedido.nombre }}</strong> - {{ pedido.kilos }}kg - {{ pedido.tematica }}</p>
        <p>üìû {{ pedido.telefono }} | Fecha: {{ pedido.fecha }}</p>
        <p>
          Estado:
          <select [(ngModel)]="pedido.estado">
            <option value="en proceso">En Proceso</option>
            <option value="entregado">Entregado</option>
          </select>
        </p>
        <button *ngIf="pedido.estado === 'entregado'" class="btn report" (click)="verReporte(pedido)">
          üìÑ Reporte
        </button>
      </div>
      <div class="modal-actions">
        <button class="btn cancel" (click)="cerrarModal()">Cerrar</button>
      </div>
    </div>
  </div>
  <!-- üìÑ Modal Reporte Elegante -->
  <div class="modal" *ngIf="reporteSeleccionado">
    <div class="reporte-card">
        <!-- ============================
        MODAL DE REPORTE DE PEDIDO
      =============================== -->
    <div class="modal" *ngIf="reporteSeleccionado">
      <div class="modal-content">
        <h2>Reporte del Pedido</h2>

        <p><strong>Tipo:</strong> {{ reporteSeleccionado.Tipo }}</p>
        <p><strong>Nombre:</strong> {{ reporteSeleccionado.nombre }}</p>
        <p><strong>Tel√©fono:</strong> {{ reporteSeleccionado.telefono }}</p>
        <p><strong>Fecha:</strong> {{ reporteSeleccionado.fecha }}</p>
        <p><strong>Lugar de entrega:</strong> {{ reporteSeleccionado.lugar }}</p>

        <!-- ============================
            DATOS ESPEC√çFICOS POR PRODUCTO
        ================================ -->

        <!-- üü£ Pastel -->
        <div *ngIf="reporteSeleccionado.Tipo === 'Pastel'">
          <h3>Detalles del pastel</h3>
          <p><strong>Color:</strong> {{ reporteSeleccionado.color }}</p>
          <p><strong>Kilos:</strong> {{ reporteSeleccionado.kilos }}</p>
          <p><strong>Relleno:</strong> {{ reporteSeleccionado.relleno }}</p>
          <p><strong>Tem√°tica:</strong> {{ reporteSeleccionado.tematica }}</p>
        </div>

        <!-- üü† Bebida -->
        <div *ngIf="reporteSeleccionado.Tipo === 'Bebida'">
          <h3>Detalles de la bebida</h3>
          <p><strong>Sabor:</strong> {{ reporteSeleccionado.sabor }}</p>
          <p><strong>Cantidad:</strong> {{ reporteSeleccionado.cantidad }}</p>
          <p><strong>Tama√±o:</strong> {{ reporteSeleccionado.tamano }}</p>
        </div>

        <!-- üü° Galletas -->
        <div *ngIf="reporteSeleccionado.Tipo === 'Galletas'">
          <h3>Detalles de galletas</h3>
          <p><strong>Sabor:</strong> {{ reporteSeleccionado.sabor }}</p>
          <p><strong>Cantidad:</strong> {{ reporteSeleccionado.cantidad }}</p>
          <p><strong>Decoraci√≥n / tem√°tica:</strong> {{ reporteSeleccionado.tematica }}</p>
        </div>

        <!-- üü¢ Postre -->
        <div *ngIf="reporteSeleccionado.Tipo === 'Postre'">
          <h3>Detalles del postre</h3>
          <p><strong>Tipo de postre:</strong> {{ reporteSeleccionado.tipoPostre }}</p>
          <p><strong>Sabor:</strong> {{ reporteSeleccionado.sabor }}</p>
          <p><strong>Cantidad:</strong> {{ reporteSeleccionado.cantidad }}</p>
          <p><strong>Tama√±o:</strong> {{ reporteSeleccionado.tamano }}</p>
        </div>
        <button class="cerrar" (click)="cerrarReporte()">Cerrar</button>
      </div>
     </div>
    </div>
  </div>
</div>