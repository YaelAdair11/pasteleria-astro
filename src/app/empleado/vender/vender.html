<div class="vender-container">
  <header>
    <h1>üßÅ Pasteler√≠a Dulce Encanto</h1>
  </header>

  <main class="panel">
    <!-- üß∑ Apartado de productos -->
    <section class="productos-section">
      <h2>Productos en Existencia</h2>
      <div class="grid-productos">
        <!-- üîÅ Cargar productos desde Supabase -->
        <div class="producto" *ngFor="let producto of productos">
          <img [src]="producto.imagen || 'https://via.placeholder.com/150'" />
          <h3>{{ producto.nombre }}</h3>
          <p>${{ producto.precio }}</p>
          <button (click)="agregarAlCarrito(producto)">Agregar</button>
        </div>
      </div>
    </section>

    <!-- üõí Apartado del carrito -->
    <section class="carrito-section">
      <h2>üõí Carrito de Compras</h2>

      <div class="carrito-lista">
        <ng-container *ngIf="carrito.length > 0; else carritoVacio">
          <div class="item-carrito" *ngFor="let item of carrito">
            <p>{{ item.nombre }} (x{{ item.cantidad }})</p>
            <span>${{ item.precio * item.cantidad }}</span>
          </div>
        </ng-container>

        <ng-template #carritoVacio>
          <p>No hay productos en el carrito</p>
        </ng-template>
      </div>

      <div class="carrito-total">
        <h3>Total: ${{ total }}</h3>
        <button class="btn-comprar" (click)="finalizarCompra()" [disabled]="carrito.length === 0">
          Finalizar Compra
        </button>
      </div>
    </section>
  </main>
</div>
